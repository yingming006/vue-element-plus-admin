import{ad as e,bi as o,d as l,aO as s,aq as a,x as t,o as n,c as r,f as c,an as i,n as u,a as d,t as f,e as p,w as m,i as y,$ as v,H as g,P as b,W as h,ao as C,d1 as x,af as k,ai as $,a_ as w,ck as A,r as F,bG as I,aw as B,S as R,M as _,D,d2 as S,d3 as O,ac as j,au as E,aj as H,al as M,Z as z,O as L,aH as P,b3 as T,h as N,cl as q,ay as V,N as U,cu as Z,z as G,aC as K,A as W,E as J}from"./index-677a4f27.js";import{u as Q,a as X,E as Y,b as ee}from"./el-overlay-ed475e57.js";import{F as oe,d as le}from"./el-popper-1541e61d.js";import{c as se}from"./refs-5e6607af.js";import{U as ae}from"./el-input-240d8b27.js";import{u as te}from"./constants-906dcaf9.js";import{u as ne}from"./el-button-9714aca1.js";const re=Symbol("dialogInjectionKey"),ce=e({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:o},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ie=["aria-label"],ue=["id"],de=l({name:"ElDialogContent"});var fe=C(l({...de,props:ce,emits:{close:()=>!0},setup(e){const o=e,{t:l}=s(),{Close:C}=x,{dialogRef:k,headerRef:$,bodyId:w,ns:A,style:F}=a(re),{focusTrapRef:I}=a(oe),B=se(I,k),R=t((()=>o.draggable));return Q(k,$,R),(e,o)=>(n(),r("div",{ref:d(B),class:u([d(A).b(),d(A).is("fullscreen",e.fullscreen),d(A).is("draggable",d(R)),d(A).is("align-center",e.alignCenter),{[d(A).m("center")]:e.center},e.customClass]),style:h(d(F)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:$,class:u(d(A).e("header"))},[i(e.$slots,"header",{},(()=>[c("span",{role:"heading",class:u(d(A).e("title"))},f(e.title),3)])),e.showClose?(n(),r("button",{key:0,"aria-label":d(l)("el.dialog.close"),class:u(d(A).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[p(d(g),{class:u(d(A).e("close"))},{default:m((()=>[(n(),y(v(e.closeIcon||d(C))))])),_:1},8,["class"])],10,ie)):b("v-if",!0)],2),c("div",{id:d(w),class:u(d(A).e("body"))},[i(e.$slots,"default")],10,ue),e.$slots.footer?(n(),r("footer",{key:0,class:u(d(A).e("footer"))},[i(e.$slots,"footer")],2)):b("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const pe=e({...ce,appendToBody:{type:Boolean,default:!1},beforeClose:{type:k(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),me={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>$(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ye=(e,o)=>{const l=w().emit,{nextZIndex:s}=A();let a="";const n=te(),r=te(),c=F(!1),i=F(!1),u=F(!1),d=F(e.zIndex||s());let f,p;const m=I("namespace",S),y=t((()=>{const o={},l=`--${m.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=B(e.width))),o})),v=t((()=>e.alignCenter?{display:"flex"}:{}));function g(){null==p||p(),null==f||f(),e.openDelay&&e.openDelay>0?({stop:f}=O((()=>C()),e.openDelay)):C()}function b(){null==f||f(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=O((()=>x()),e.closeDelay)):x()}function h(){e.beforeClose?e.beforeClose((function(e){e||(i.value=!0,c.value=!1)})):b()}function C(){j&&(c.value=!0)}function x(){c.value=!1}return e.lockScroll&&X(c),R((()=>e.modelValue),(a=>{a?(i.value=!1,g(),u.value=!0,d.value=e.zIndex?d.value++:s(),_((()=>{l("open"),o.value&&(o.value.scrollTop=0)}))):c.value&&b()})),R((()=>e.fullscreen),(e=>{o.value&&(e?(a=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=a)})),D((()=>{e.modelValue&&(c.value=!0,u.value=!0,g())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(ae,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){l("close")},handleClose:h,onModalClick:function(){e.closeOnClickModal&&h()},close:b,doClose:x,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&h()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:n,bodyId:r,closed:i,style:y,overlayDialogStyle:v,rendered:u,visible:c,zIndex:d}},ve=["aria-label","aria-labelledby","aria-describedby"],ge=l({name:"ElDialog",inheritAttrs:!1});const be=V(C(l({...ge,props:pe,emits:me,setup(e,{expose:o}){const l=e,s=E();ne({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},t((()=>!!s.title))),ne({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},t((()=>!!l.customClass)));const a=H("dialog"),r=F(),f=F(),v=F(),{visible:g,titleId:C,bodyId:x,style:k,overlayDialogStyle:$,rendered:w,zIndex:A,afterEnter:I,afterLeave:B,beforeLeave:R,handleClose:_,onModalClick:D,onOpenAutoFocus:S,onCloseAutoFocus:O,onCloseRequested:j,onFocusoutPrevented:V}=ye(l,r);M(re,{dialogRef:r,headerRef:f,bodyId:x,ns:a,rendered:w,style:k});const U=ee(D),Z=t((()=>l.draggable&&!l.fullscreen));return o({visible:g,dialogContentRef:v}),(e,o)=>(n(),y(q,{to:"body",disabled:!e.appendToBody},[p(N,{name:"dialog-fade",onAfterEnter:d(I),onAfterLeave:d(B),onBeforeLeave:d(R),persisted:""},{default:m((()=>[z(p(d(Y),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":d(A)},{default:m((()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:d(C),"aria-describedby":d(x),class:u(`${d(a).namespace.value}-overlay-dialog`),style:h(d($)),onClick:o[0]||(o[0]=(...e)=>d(U).onClick&&d(U).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>d(U).onMousedown&&d(U).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>d(U).onMouseup&&d(U).onMouseup(...e))},[p(d(le),{loop:"",trapped:d(g),"focus-start-el":"container",onFocusAfterTrapped:d(S),onFocusAfterReleased:d(O),onFocusoutPrevented:d(V),onReleaseRequested:d(j)},{default:m((()=>[d(w)?(n(),y(fe,L({key:0,ref_key:"dialogContentRef",ref:v},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:d(Z),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:d(_)}),P({header:m((()=>[e.$slots.title?i(e.$slots,"title",{key:1}):i(e.$slots,"header",{key:0,close:d(_),titleId:d(C),titleClass:d(a).e("title")})])),default:m((()=>[i(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:m((()=>[i(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):b("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ve)])),_:3},8,["mask","overlay-class","z-index"]),[[T,d(g)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])),he={class:"flex justify-between items-center h-54px pl-15px pr-15px relative"},Ce={class:"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]"},xe=l({__name:"Dialog",props:{modelValue:U.bool.def(!1),title:U.string.def("Dialog"),fullscreen:U.bool.def(!0),maxHeight:U.oneOfType([String,Number]).def("400px")},setup(e){const o=e,l=E(),s=t((()=>{const e=["fullscreen","title","maxHeight"],l={...K(),...o};for(const o in l)-1!==e.indexOf(o)&&delete l[o];return l})),a=F(!1),r=()=>{a.value=!d(a)},u=F(Z(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight);R((()=>a.value),(async e=>{if(await _(),e){const e=document.documentElement.offsetHeight;u.value=e-55-60-(l.footer?63:0)+"px"}else u.value=Z(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight}),{immediate:!0});const v=t((()=>({height:d(u)})));return(o,t)=>{const u=G("Icon");return n(),y(d(be),L(s.value,{fullscreen:a.value,"destroy-on-close":"","lock-scroll":"",draggable:"",top:"0","close-on-click-modal":!1,"show-close":!1}),P({header:m((({close:l})=>[c("div",he,[i(o.$slots,"title",{},(()=>[W(f(e.title),1)])),c("div",Ce,[e.fullscreen?(n(),y(u,{key:0,class:"cursor-pointer is-hover !h-54px mr-10px",icon:a.value?"radix-icons:exit-full-screen":"radix-icons:enter-full-screen",color:"var(--el-color-info)","hover-color":"var(--el-color-primary)",onClick:r},null,8,["icon"])):b("",!0),p(u,{class:"cursor-pointer is-hover !h-54px",icon:"ep:close","hover-color":"var(--el-color-primary)",color:"var(--el-color-info)",onClick:l},null,8,["onClick"])])])])),default:m((()=>[p(d(J),{style:h(v.value)},{default:m((()=>[i(o.$slots,"default")])),_:3},8,["style"])])),_:2},[d(l).footer?{name:"footer",fn:m((()=>[i(o.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen"])}}});export{xe as _,me as a,pe as d,ye as u};
